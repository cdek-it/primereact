@use "sass:math";

@mixin style-severity($color-background, $border, $color-icon) {
    background: $color-background;
    border: $border;

    .p-message-wrapper {
        border-left: $messageBorderWidth solid $color-icon;
    }

    .p-message-icon {
        color: $color-icon;
    }

    .p-message-close {
        color: $color-icon;
        border: $border;

        background: transparent;

        &:hover {
            color: $color-icon;
            border-color: $color-icon;

            box-shadow: $buttonHoverShadow;
            transition: $formElementTransition;
        }
    }
}

.p-message {
    overflow: hidden;

    margin: $messageMargin;
    border-radius: $borderRadius;

    .p-message-wrapper {
        padding: $messagePadding;
    }

    .p-message-close {
        width: $actionIconWidth;
        height: $actionIconHeight;
        border-radius: $actionIconBorderRadius;
        background: transparent;
        transition: $actionIconTransition;

        &:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        &:focus-visible {
            @include focused();
        }
    }

    &.p-message-info {
        @include style-severity(
            $color-background: $infoMessageBg, 
            $border: $infoMessageBorder, 
            $color-icon: $infoMessageIconColor
        );
    }

    &.p-message-success {
        @include style-severity(
            $color-background: $successMessageBg, 
            $border: $successMessageBorder, 
            $color-icon: $successMessageIconColor
        );
    }

    &.p-message-warn {
        @include style-severity(
            $color-background: $warningMessageBg, 
            $border: $warningMessageBorder, 
            $color-icon: $warningMessageIconColor
        );
    }

    &.p-message-error {
        @include style-severity(
            $color-background: $dangerMessageBg, 
            $border: $dangerMessageBorder, 
            $color-icon: $dangerMessageIconColor
        );
    }

    .p-message-text {
        font-size: $messageTextFontSize;
        font-weight: $messageTextFontWeight;
        color: $messageTextColor;
    }

    .p-message-icon {
        font-size: $messageIconFontSize;
        margin-right: calc($inlineSpacing * 2);

        &.p-icon {
            width: $messageIconFontSize;
            height: $messageIconFontSize;
        }
    }

    .p-message-summary {
        font-size: $messageTextSummaryFontSize;
        font-weight: $messageTextSummaryFontWeight;
        color: $messageTextSummaryColor;
        margin-right: math.div($inlineSpacing, 2);
    }

    .p-message-detail {
        font-size: $messageTextDetailFontSize;
        font-weight: $messageTextDetailFontWeight;
        color: $messageTextDetailColor;
    }
}
